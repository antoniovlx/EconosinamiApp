<div class="presupuestos-container">
    <div class="table-container mat-elevation-z8">
        <table mat-table [dataSource]="presupuestos">
            <ng-container matColumnDef="actividad">
                <th mat-header-cell *matHeaderCellDef> {{'Actividad' | translate}} </th>
                <td mat-cell *matCellDef="let element">
                    <mat-form-field appearance="fill" floatLabel="never">
                        <mat-select [(value)]="element.idActividad.idActividad" (selectionChange)="update(element)">
                            <mat-option *ngFor="let actividad of actividades" [value]="actividad.idActividad">
                                {{actividad.actividad + '.- ' + actividad.descripcion}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </td>
            </ng-container>

            <ng-container matColumnDef="categoria">
                <th mat-header-cell *matHeaderCellDef> {{'Categoría costo' | translate}} </th>
                <td mat-cell *matCellDef="let element">
                    <mat-form-field appearance="fill" floatLabel="never">
                        <mat-select [(value)]="element.idCategoriaCosto.idCategoriaCosto"
                            (selectionChange)="update(element)">
                            <mat-option *ngFor="let categoria of categorias" [value]="categoria.idCategoriaCosto">
                                {{categoria.descripcion}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </td>
            </ng-container>

            <ng-container matColumnDef="presupuesto">
                <th mat-header-cell *matHeaderCellDef> {{'Presupuesto' | translate: util.getMoneda()}} </th>
                <td mat-cell *matCellDef="let element">
                    <mat-form-field floatLabel="never">
                        <input type="number" matInput [value]="element.importe" [(ngModel)]="element.importe"
                            (change)="update(element)">
                    </mat-form-field>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>

        <button title="{{'Añadir fila' | translate}}" (click)="addRow()" style="margin-bottom: 10px;">
            <mat-icon class="green-icon">add</mat-icon>
        </button>
        <button title="{{'borrar fila' | translate}}" (click)="removeRow()" style="margin-bottom: 10px;">
            <mat-icon class="red-icon">remove</mat-icon>
        </button>
    </div>
</div>